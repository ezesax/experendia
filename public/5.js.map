{"version":3,"sources":["webpack:///resources/js/pages/auth/Login.vue","webpack:///./resources/js/pages/auth/Login.vue?7e20","webpack:///./resources/js/pages/auth/Login.vue","webpack:///./resources/js/pages/auth/Login.vue?1541","webpack:///./resources/js/pages/auth/Login.vue?fca8"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AAEA;AACA,eADA;AAEA;AAAA;AACA;AACA,wBADA;AAEA,2BAFA;AAGA;AAHA,OADA;AAMA,mBANA;AAOA,iBAPA;AAQA,uBARA;AASA,sBACA;AAAA;AAAA,OADA,EAEA;AAAA,eACA,sBACA,2CAFA;AAAA,OAFA,CATA;AAeA,mBACA;AAAA;AAAA,OADA,EAEA;AAAA;AAAA,OAFA,CAfA;AAmBA;AAnBA;AAAA,GAFA;AAuBA,SAvBA,qBAuBA;AACA;AACA,GAzBA;AA0BA;AACA,YADA,sBACA;AAAA;;AACA;;AACA;AACA;AACA,0BACA,IADA,CACA,aADA,EACA,gBADA,EAEA,IAFA;AAAA,4HAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBADA,GACA,GADA,CACA,IADA;AAEA;;AACA;;AAHA;AAAA,2BAIA,qEAJA;;AAAA;AAAA;AAAA,2BAKA,iCALA;;AAAA;AAAA;AAAA,2BAMA,iBANA;;AAAA;AAOA,4BAPA,GAOA,2BAPA;;AAQA;AACA;AACA,qBAFA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFA;;AAAA;AAAA;AAAA;AAAA,sBAcA;AAAA;AAAA,SAdA,aAeA;AAAA;AAAA,SAfA;AAgBA;AACA,KAtBA;AAuBA,eAvBA,uBAuBA,IAvBA,EAuBA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA6BA,aA7BA,uBA6BA;AACA;AACA,iBADA;AAEA,sCAFA;AAGA;AAHA;AAKA,wBACA,IADA,CACA,8BADA,EACA,IADA,EAEA,IAFA;AAAA,2HAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFA;;AAAA;AAAA;AAAA;AAAA,oBAMA;AACA;AACA,OARA;AASA,KA5CA;AA6CA,SA7CA,mBA6CA;AACA;AACA,KA/CA;AAgDA,mBAhDA,6BAgDA;AACA;AACA;AAlDA;AA1BA,G;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,yBAAyB;AAClC;AACA;AACA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;AACA,iBAAiB,SAAS,qCAAqC,EAAE;AACjE;AACA;AACA;AACA,qBAAqB,SAAS,UAAU,EAAE;AAC1C;AACA;AACA;AACA,yBAAyB,SAAS,iBAAiB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,8BAA8B;AACpE;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,iCAAiC,gCAAgC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,wCAAwC,sBAAsB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,2CAA2C;AAC3C,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClLA;AAAA;AAAA;AAAA;AAAgG;AACvC;AACL;;;AAGpD;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA2L,CAAgB,iPAAG,EAAC,C;;;;;;;;;;;;ACA/M;AAAA;AAAA;AAAA;AAAA;AAAA","file":"5.js","sourcesContent":["<template>\r\n    <v-app>\r\n        <v-content class=\"primary\">\r\n            <v-container class=\"fill-height\">\r\n                <v-row justify=\"center\" align=\"center\">\r\n                    <v-col sm=\"6\">\r\n                        <v-card color=\"light\">\r\n                            <v-form\r\n                                ref=\"form\"\r\n                                v-model=\"valid\"\r\n                                :lazy-validation=\"lazy\"\r\n                                class=\"pa-8\"\r\n                            >\r\n                                <v-card-title class=\"justify-center\"\r\n                                    >EXPERENDIA</v-card-title\r\n                                >\r\n                                <v-alert\r\n                                    type=\"error\"\r\n                                    icon=\"fa-exclamation\"\r\n                                    border=\"left\"\r\n                                    prominent\r\n                                    dismissible\r\n                                    v-if=\"errors\"\r\n                                >\r\n                                    <h4>{{ errors.title }}</h4>\r\n                                    <v-divider />\r\n                                    <p\r\n                                        v-for=\"(error, i) in errors.msg\"\r\n                                        :key=\"i\"\r\n                                    >\r\n                                        {{ error }}\r\n                                    </p>\r\n                                </v-alert>\r\n                                <v-text-field\r\n                                    v-model=\"credentials.email\"\r\n                                    :rules=\"emailRules\"\r\n                                    label=\"Email\"\r\n                                    aria-autocomplete=\"false\"\r\n                                    required\r\n                                ></v-text-field>\r\n\r\n                                <v-text-field\r\n                                    v-model=\"credentials.password\"\r\n                                    type=\"password\"\r\n                                    :rules=\"passwordRules\"\r\n                                    label=\"Password\"\r\n                                    aria-autocomplete=\"false\"\r\n                                    required\r\n                                ></v-text-field>\r\n\r\n                                <v-checkbox\r\n                                    v-model=\"credentials.remember_me\"\r\n                                    label=\"Recuerdame\"\r\n                                ></v-checkbox>\r\n\r\n                                <v-row>\r\n                                    <v-btn\r\n                                        large\r\n                                        :disabled=\"!valid || submit\"\r\n                                        color=\"success\"\r\n                                        class=\"mx-auto px-12\"\r\n                                        @click=\"validate\"\r\n                                    >\r\n                                        Ingresar\r\n                                    </v-btn>\r\n                                </v-row>\r\n                            </v-form>\r\n                        </v-card>\r\n                    </v-col>\r\n                </v-row>\r\n            </v-container>\r\n        </v-content>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nimport Token from \"../../config/Token\";\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    data: () => ({\r\n        credentials: {\r\n            email: undefined,\r\n            password: undefined,\r\n            remember_me: false\r\n        },\r\n        submit: false,\r\n        valid: true,\r\n        errors: undefined,\r\n        passwordRules: [\r\n            v => !!v || \"Contraseña es requerida\",\r\n            v =>\r\n                (v && v.length >= 6) ||\r\n                \"Contraseña debe tener minimo 6 caracteres\"\r\n        ],\r\n        emailRules: [\r\n            v => !!v || \"E-mail es requerido\",\r\n            v => /.+@.+\\..+/.test(v) || \"E-mail debe ser valido\"\r\n        ],\r\n        lazy: false\r\n    }),\r\n    mounted() {\r\n        console.log(this.$api);\r\n    },\r\n    methods: {\r\n        validate() {\r\n            const valid = this.$refs.form.validate();\r\n            if (valid && !this.submit) {\r\n                this.submit = true;\r\n                this.$api.request\r\n                    .post(\"/auth/login\", this.credentials)\r\n                    .then(async res => {\r\n                        const { data } = res;\r\n                        console.log(data);\r\n                        this.storageData(data.user);\r\n                        await Token.set(data.token);\r\n                        await this.$store.dispatch(\"loadUser\");\r\n                        await this.createLog();\r\n                        const redirect = this.$route.query.redirect;\r\n                        this.$router.push(redirect || \"/\", () => {\r\n                            window.location.reload();\r\n                        });\r\n                    })\r\n                    .catch(reason => (this.errors = reason.error))\r\n                    .finally(() => (this.submit = false));\r\n            }\r\n        },\r\n        storageData(user){\r\n            localStorage.userEmail = user.email;\r\n            localStorage.userFirstname = user.profile.firstname;\r\n            localStorage.userLastname = user.profile.lastname;\r\n            localStorage.userPublic = user.profile.public;\r\n        },\r\n        createLog() {\r\n            let data = {\r\n                device: 1,\r\n                useragent: navigator.userAgent,\r\n                action: 'login'\r\n            }\r\n            this.$api.request\r\n                .post(\"/logs/create_user_access_log\", data)\r\n                .then(async res => {\r\n                    console.log(res);\r\n                    localStorage.login = true;\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n        },\r\n        reset() {\r\n            this.$refs.form.reset();\r\n        },\r\n        resetValidation() {\r\n            this.$refs.form.resetValidation();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-app\",\n    [\n      _c(\n        \"v-content\",\n        { staticClass: \"primary\" },\n        [\n          _c(\n            \"v-container\",\n            { staticClass: \"fill-height\" },\n            [\n              _c(\n                \"v-row\",\n                { attrs: { justify: \"center\", align: \"center\" } },\n                [\n                  _c(\n                    \"v-col\",\n                    { attrs: { sm: \"6\" } },\n                    [\n                      _c(\n                        \"v-card\",\n                        { attrs: { color: \"light\" } },\n                        [\n                          _c(\n                            \"v-form\",\n                            {\n                              ref: \"form\",\n                              staticClass: \"pa-8\",\n                              attrs: { \"lazy-validation\": _vm.lazy },\n                              model: {\n                                value: _vm.valid,\n                                callback: function($$v) {\n                                  _vm.valid = $$v\n                                },\n                                expression: \"valid\"\n                              }\n                            },\n                            [\n                              _c(\n                                \"v-card-title\",\n                                { staticClass: \"justify-center\" },\n                                [_vm._v(\"EXPERENDIA\")]\n                              ),\n                              _vm._v(\" \"),\n                              _vm.errors\n                                ? _c(\n                                    \"v-alert\",\n                                    {\n                                      attrs: {\n                                        type: \"error\",\n                                        icon: \"fa-exclamation\",\n                                        border: \"left\",\n                                        prominent: \"\",\n                                        dismissible: \"\"\n                                      }\n                                    },\n                                    [\n                                      _c(\"h4\", [\n                                        _vm._v(_vm._s(_vm.errors.title))\n                                      ]),\n                                      _vm._v(\" \"),\n                                      _c(\"v-divider\"),\n                                      _vm._v(\" \"),\n                                      _vm._l(_vm.errors.msg, function(\n                                        error,\n                                        i\n                                      ) {\n                                        return _c(\"p\", { key: i }, [\n                                          _vm._v(\n                                            \"\\n                                    \" +\n                                              _vm._s(error) +\n                                              \"\\n                                \"\n                                          )\n                                        ])\n                                      })\n                                    ],\n                                    2\n                                  )\n                                : _vm._e(),\n                              _vm._v(\" \"),\n                              _c(\"v-text-field\", {\n                                attrs: {\n                                  rules: _vm.emailRules,\n                                  label: \"Email\",\n                                  \"aria-autocomplete\": \"false\",\n                                  required: \"\"\n                                },\n                                model: {\n                                  value: _vm.credentials.email,\n                                  callback: function($$v) {\n                                    _vm.$set(_vm.credentials, \"email\", $$v)\n                                  },\n                                  expression: \"credentials.email\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"v-text-field\", {\n                                attrs: {\n                                  type: \"password\",\n                                  rules: _vm.passwordRules,\n                                  label: \"Password\",\n                                  \"aria-autocomplete\": \"false\",\n                                  required: \"\"\n                                },\n                                model: {\n                                  value: _vm.credentials.password,\n                                  callback: function($$v) {\n                                    _vm.$set(_vm.credentials, \"password\", $$v)\n                                  },\n                                  expression: \"credentials.password\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\"v-checkbox\", {\n                                attrs: { label: \"Recuerdame\" },\n                                model: {\n                                  value: _vm.credentials.remember_me,\n                                  callback: function($$v) {\n                                    _vm.$set(\n                                      _vm.credentials,\n                                      \"remember_me\",\n                                      $$v\n                                    )\n                                  },\n                                  expression: \"credentials.remember_me\"\n                                }\n                              }),\n                              _vm._v(\" \"),\n                              _c(\n                                \"v-row\",\n                                [\n                                  _c(\n                                    \"v-btn\",\n                                    {\n                                      staticClass: \"mx-auto px-12\",\n                                      attrs: {\n                                        large: \"\",\n                                        disabled: !_vm.valid || _vm.submit,\n                                        color: \"success\"\n                                      },\n                                      on: { click: _vm.validate }\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                                    Ingresar\\n                                \"\n                                      )\n                                    ]\n                                  )\n                                ],\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=42c42d6a&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c42d6a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Ezequiel\\\\Projects\\\\Experendia\\\\experendia-backend\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('42c42d6a')) {\n      api.createRecord('42c42d6a', component.options)\n    } else {\n      api.reload('42c42d6a', component.options)\n    }\n    module.hot.accept(\"./Login.vue?vue&type=template&id=42c42d6a&scoped=true&\", function () {\n      api.rerender('42c42d6a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/auth/Login.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=template&id=42c42d6a&scoped=true&\""],"sourceRoot":""}